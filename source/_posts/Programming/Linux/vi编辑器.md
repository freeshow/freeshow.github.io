---
title: vi编辑器
date: 2016-07-24 00:20:27
tags: Linux
categories: 编程语言
---
<Excerpt in index | 首页摘要> 
<!-- more -->
<The rest of contents | 余下全文>

### vim安装
更新vi版本为vim版本：sudo apt -get install vim

### vi编辑器的三种工作模式：
command mode(命令模式)，entry mode(输入模式)，last-line mode(最低行模式).

![这里写图片描述](http://img.blog.csdn.net/20160321154201781)


----------

### vi操作
vi 
格式： vi filename： Open or create a file

#### **命令模式与输入模式之间转换：**
命令模式--->输入模式

- i ：在光标当前位置前插入 
- a ：在光标所在位置后插入 
- o ：在光标所在行 下插入一空行
- shift+o: 在光标所在行 上插入一空行
- shift+a: 行尾进行插入
- shift+i:  行首进行插入

输入模式--->命令模式：
Esc：退出插入状态 

#### **光标移动：**

- 向上 k 
- 向下 j 
- 向左 h 
- 向右 l

#### **删除：**

- x：    删除一个字符 
- dw： 删除当前词 
- 3dw ：删除三个词 
- dd ：删除当前行 
- 5dd ：删除五行 
- :5,10d      （最低行模式下）删除第5到第10行的内容 

#### **替换（删除并进入输入模式）命令模式下**

- r： 	替换一个字符 
- cw ：	替换一个单词 
- cc ：替换一行 
- C 	：替换从光标至行尾

#### **剪贴&复制**

- yw 		拷贝词 
- yy 		拷贝行 ( 或 Y)
-  3yy  拷贝3行 
- p 		当前行下粘贴
- :1,20co3 		拷贝行 1 到行 20 在行 3 之后 
- :3,5m6 		移动行 3 到行 5 在行 6 之后

#### **从输入模式到命令模式：**

- :w 		存盘 
- :w newfile 		存成新文件 
- :wq 	存盘退出 Vi( 或 ZZ ,或 :x) 
- :q! 		强行退出不存盘

#### **查找** 

- /串 ：从当前行往下查找 
- ?串 ：	从当前行往上查找 
- n 	：查找继续

#### **跳转到指定行**

- :set nu 	显示行代码 (:set nonu) 
- :21 	光标停在指定行(最低行模式下)  跳到21行 
- 21G 	 (在命令模式下)光标停在指定行 (G 到文件尾 ,1G 到文件头 ) 跳到21行   

#### **替换**

在最低行模式下
格式：
:1,\$s/旧串 新串/g  	替换全文 ( 或 :%s/ 旧串 / 新串 /g) 将旧串替换出新串;

$是范围，3,5 即第3行到第5行，不加/g只会替换一行中的一个旧串而不会全部替换本行。

eg: 
:1,4,10s/hello/world/g   将本vi编辑器里内容的第4行到10行中的hello替换为world
:%s/hello/world/g  将vi编辑器里全部内容中的hello替换为world.    %s为替换为全文；

#### **分栏编辑**

- :vsplit (:vs) 文件名		水平方向 
- :split 文件名			竖直方向 

#### 切换：

- ctrl+w + 方向键切换分栏 
- ctrl+w+w 顺序切换分栏 
- :wqa 全部保存退出编辑栏

#### **其他命令**

- ~： 	改变大小写 
- J： 	把当前行和下一行连起来 
- u： 	废除刚才的编辑操作 (undo)
- :nohl： 取消语法高亮
- :r file2 ：	在光标所在位置插入另一个文件  
- ctrl+r：重做 
- !： 执行外部命令 

### **设置VI配置：** 
vi ~/.vimrc  在里面配置